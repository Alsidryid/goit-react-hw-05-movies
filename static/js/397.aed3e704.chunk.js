"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[397],{713:function(e,t,n){n.d(t,{Ht:function(){return i},M1:function(){return o},Pg:function(){return s},WG:function(){return u},tx:function(){return l}});var r=n(294),a="e57cb6e923888ba47f84eda8bb27c104",c=r.Z.create({baseURL:"https://api.themoviedb.org/3"}),i=function(){return c.get("/trending/movie/day?api_key=".concat(a))},s=function(e){return c.get("/movie/".concat(e,"?api_key=").concat(a))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c.get("/search/movie?query=".concat(e,"}&api_key=").concat(a,"&include_adult=true&page=").concat(t))},o=function(e){return c.get("/movie/".concat(e,"/credits?api_key=").concat(a))},l=function(e){return c.get("/movie/".concat(e,"/reviews?api_key=").concat(a))}},510:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(689),a=n(87),c="MovieList_item__tDivI",i="MovieList_img__Tmz2C",s="MovieList_title__QyMtJ",u="MovieList_link__+cn-g",o=n(184),l=function(e){var t=e.movies,n=(0,r.TH)();return t.map((function(e){var t=e.id,r=e.title,l=e.poster_path;return(0,o.jsx)("li",{className:c,children:(0,o.jsxs)(a.rU,{to:"/movies/".concat(t),state:{from:n},className:u,children:[(0,o.jsx)("img",{className:i,src:l?"https://image.tmdb.org/t/p/w500".concat(l):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700",alt:r}),(0,o.jsx)("h3",{className:s,children:r})]},t)})}))}},397:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(433),a=n(861),c=n(439),i=n(757),s=n.n(i),u=n(791),o="SearchMovies_list__09E3-",l="SearchMovies_btns__dB8ad",h="SearchMovies_btn__sVIPs",m=n(942),p=n(413),f={header:"Searchbar_header__D4qLf",btn:"Searchbar_btn__MFSUa",input:"Searchbar_input__19umw"},d=n(184),v=function(e){var t=e.onSubmit,n=(0,u.useState)({search:""}),r=(0,c.Z)(n,2),a=r[0],i=r[1];return(0,d.jsx)("header",{className:f.header,children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t((0,p.Z)({},a)),i({search:""})},className:f.form,children:[(0,d.jsx)("button",{className:f.btn,type:"submit",children:(0,d.jsx)("span",{children:"Search"})}),(0,d.jsx)("input",{className:f.input,name:"search",onChange:function(e){var t=e.target,n=t.name,r=t.value;i((0,p.Z)((0,p.Z)({},a),{},(0,m.Z)({},n,r)))},value:a.search,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Find movie",required:!0})]})})},_=n(784),b="Button_btn__RBtNK",x=function(e){var t=e.onClick,n=e.type,r=void 0===n?"submit":n,a=e.children;return(0,d.jsx)("button",{className:b,onClick:t,type:r,children:a})},g=n(713),j=n(510),k=n(87),N=n(694),y=function(){var e=(0,u.useState)(!1),t=(0,c.Z)(e,2),n=t[0],i=t[1],m=(0,u.useState)(null),p=(0,c.Z)(m,2),f=p[0],b=p[1],y=(0,u.useState)([]),S=(0,c.Z)(y,2),Z=S[0],w=S[1],M=(0,u.useState)(0),C=(0,c.Z)(M,2),L=C[0],q=C[1],B=(0,k.lr)(),U=(0,c.Z)(B,2),D=U[0],E=U[1],F=D.get("search"),G=D.get("page");(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,(0,g.WG)(F,G);case 4:t=e.sent,n=t.data,w((function(e){return e!==n.results?(0,r.Z)(n.results):[]})),q(n.total_pages),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b(e.t0.message);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();F&&e()}),[F,G]);var H=F,I=Boolean(Z.length),P=L>G;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v,{onSubmit:function(e){var t=e.search;t!==H?(E({search:t,page:1}),q(0),w([])):N.Notify.warning("Enter new serch")}}),f&&(0,d.jsxs)("p",{children:[" ",f,", please try later."]}),n&&(0,d.jsx)(_.Z,{}),(0,d.jsx)("ul",{className:o,children:(0,d.jsx)(j.Z,{movies:Z})}),(0,d.jsxs)("ul",{className:l,children:[(0,d.jsx)("li",{className:h,children:I&&Number(G)>1&&(0,d.jsx)(x,{onClick:function(){return E({search:F,page:Number(G)-1})},type:" button",children:"previos"})}),(0,d.jsx)("li",{className:h,children:I&&P&&(0,d.jsx)(x,{onClick:function(){return E({search:F,page:Number(G)+1})},type:" button",children:"next"})})]})]})},S=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(y,{})})}}}]);
//# sourceMappingURL=397.aed3e704.chunk.js.map