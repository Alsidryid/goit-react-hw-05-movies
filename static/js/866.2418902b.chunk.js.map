{"version":3,"file":"static/js/866.2418902b.chunk.js","mappings":"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","sources":["api/api.js","webpack://react-homework-template/./src/pages/Reviews/Reviews.module.css?9a3e","pages/Reviews/Reviews.jsx"],"sourcesContent":["import axios from 'axios';\nconst KEY = 'e57cb6e923888ba47f84eda8bb27c104';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getMainMovies = () => {\n  return instance.get(`/trending/movie/day?api_key=${KEY}`);\n};\n\nexport const getMovieById = id => {\n  return instance.get(`/movie/${id}?api_key=${KEY}`);\n};\n\nexport const getMovieByKeyword = (q, page = 1) => {\n  return instance.get(\n    `/search/movie?query=${q}}&api_key=${KEY}&include_adult=true&page=${page}`\n  );\n};\n\nexport const getMovieCast = id => {\n  return instance.get(`/movie/${id}/credits?api_key=${KEY}`);\n};\n\nexport const getMovieReviews = id => {\n  return instance.get(`/movie/${id}/reviews?api_key=${KEY}`);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__pCzae\",\"item\":\"Reviews_item__G1rz-\",\"title\":\"Reviews_title__jUE7J\",\"post\":\"Reviews_post__ywIbC\"};","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getMovieReviews } from 'api/api';\nimport Loader from 'components/Loader/Loader';\nimport style from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await getMovieReviews(id);\n        setReviews(data.results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (!id) return;\n    fetchMovies();\n  }, [id]);\n\n  const review = reviews.map(({ id, author, content }) => {\n    return (\n      <li className={style.item} key={id}>\n        <h2 className={style.title}>{author}</h2>\n        <p className={style.post}>{content}</p>\n      </li>\n    );\n  });\n\n  const isReview = Boolean(reviews.length);\n\n  return (\n    <>\n      {error && <p>{error}</p>}\n      {loading && <p>{<Loader />}</p>}\n      {isReview ? <ul className={style.list}>{review}</ul> : <p>No reviews</p>}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["KEY","instance","axios","baseURL","getMainMovies","get","concat","getMovieById","id","getMovieByKeyword","q","page","arguments","length","undefined","getMovieCast","getMovieReviews","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useParams","useEffect","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMovieReview","data","_context","prev","next","sent","results","t0","message","finish","stop","apply","review","map","_ref2","author","content","_jsxs","className","style","children","_jsx","isReview","Boolean","_Fragment","Loader"],"sourceRoot":""}