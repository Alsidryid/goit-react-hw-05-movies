{"version":3,"file":"static/js/397.6ef3543d.chunk.js","mappings":"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","sources":["api/api.js","webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/SearchMovie/SearchMovies.module.css?c374","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","components/SearchMovie/SearchMovie.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\nconst KEY = 'e57cb6e923888ba47f84eda8bb27c104';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getMainMovies = () => {\n  return instance.get(`/trending/movie/day?api_key=${KEY}`);\n};\n\nexport const getMovieById = id => {\n  return instance.get(`/movie/${id}?api_key=${KEY}`);\n};\n\nexport const getMovieByKeyword = (q, page = 1) => {\n  return instance.get(\n    `/search/movie?query=${q}}&api_key=${KEY}&include_adult=true&page=${page}`\n  );\n};\n\nexport const getMovieCast = id => {\n  return instance.get(`/movie/${id}/credits?api_key=${KEY}`);\n};\n\nexport const getMovieReviews = id => {\n  return instance.get(`/movie/${id}/reviews?api_key=${KEY}`);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieList_item__tDivI\",\"img\":\"MovieList_img__Tmz2C\",\"title\":\"MovieList_title__QyMtJ\",\"link\":\"MovieList_link__+cn-g\"};","import { Link, useLocation } from 'react-router-dom';\nimport style from './MovieList.module.css';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n  return movies.map(({ id, title, poster_path }) => {\n    return (\n      <li className={style.item}>\n        <Link\n          to={`/movies/${id}`}\n          state={{ from: location }}\n          className={style.link}\n          key={id}\n        >\n          <img\n            className={style.img}\n            src={\n              Boolean(poster_path)\n                ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                : defaultImg\n            }\n            alt={title}\n          />\n          <h3 className={style.title}>{title}</h3>\n        </Link>\n      </li>\n    );\n  });\n};\n\nexport default MovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"SearchMovies_list__09E3-\",\"btns\":\"SearchMovies_btns__dB8ad\",\"btn\":\"SearchMovies_btn__sVIPs\"};","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Searchbar_header__D4qLf\",\"btn\":\"Searchbar_btn__MFSUa\",\"input\":\"Searchbar_input__19umw\"};","import { useState } from 'react';\nimport style from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handelChange = ({ target }) => {\n    const { name, value } = target;\n\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handelSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({\n      search: '',\n    });\n  };\n\n  return (\n    <header className={style.header}>\n      <form onSubmit={handelSubmit} className={style.form}>\n        <button className={style.btn} type=\"submit\">\n          <span>Search</span>\n        </button>\n        <input\n          className={style.input}\n          name=\"search\"\n          onChange={handelChange}\n          value={state.search}\n          type=\"text\"\n          autocomplete=\"off\"\n          autofocus\n          placeholder=\"Find movie\"\n          required\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__RBtNK\"};","import style from \"./Button.module.css\"\n\nconst Button = ({onClick , type =\"submit\",children}) => {\n    return <button className={style.btn} onClick={onClick} type ={type}>{children}</button>\n}\n\nexport default Button","import { useEffect, useState } from 'react';\nimport style from './SearchMovies.module.css';\nimport Searchbar from '../Searchbar/Searchbar';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport { getMovieByKeyword } from 'api/api';\nimport MovieList from 'components/MovieList/MovieList';\nimport { useSearchParams } from 'react-router-dom';\nimport { Notify } from 'notiflix';\n\nconst SearchMovie = () => {\n  //   const [search, setSearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movies, setMovies] = useState([]);\n  //   const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await getMovieByKeyword(search, page);\n        setMovies(prevMovies =>\n          prevMovies !== data.results ? [...data.results] : []\n        );\n        setTotal(data.total_pages);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (search) {\n      fetchMovies();\n    }\n  }, [search, page]);\n\n  let lastSearch = search;\n  const handleSearch = ({ search }) => {\n    if (search === lastSearch) {\n      Notify.warning('Enter new serch');\n      return;\n    }\n    setSearchParams({ search, page: 1 });\n    setTotal(0);\n    setMovies([]);\n  };\n  const loadLess = () => setSearchParams({ search, page: Number(page) - 1 });\n  const loadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n\n  const isImages = Boolean(movies.length);\n  const isTotal = total > page;\n\n  return (\n    <>\n      <Searchbar onSubmit={handleSearch} />\n      {error && <p> {error}, please try later.</p>}\n      {loading && <Loader />}\n\n      <ul className={style.list}>\n        <MovieList movies={movies} />\n      </ul>\n      <ul className={style.btns}>\n        <li className={style.btn}>\n          {isImages && Number(page) > 1 && (\n            <Button onClick={loadLess} type=\" button\">\n              previos\n            </Button>\n          )}\n        </li>\n        <li className={style.btn}>\n          {isImages && isTotal && (\n            <Button onClick={loadMore} type=\" button\">\n              next\n            </Button>\n          )}\n        </li>\n      </ul>\n    </>\n  );\n};\n\nexport default SearchMovie;\n","import SearchMovie from 'components/SearchMovie/SearchMovie';\n\nconst Movies = () => {\n  return (\n    <div>\n      <SearchMovie />\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["KEY","instance","axios","baseURL","getMainMovies","get","concat","getMovieById","id","getMovieByKeyword","q","page","arguments","length","undefined","getMovieCast","getMovieReviews","_ref","movies","location","useLocation","map","_ref2","title","poster_path","_jsx","className","style","children","_jsxs","Link","to","state","from","src","Boolean","alt","onSubmit","_useState","useState","search","_useState2","_slicedToArray","setState","e","preventDefault","_objectSpread","type","name","onChange","target","value","_defineProperty","autocomplete","autofocus","placeholder","required","onClick","_ref$type","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","setMovies","_useState7","_useState8","total","setTotal","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMovieByKeyw","data","_context","prev","next","sent","prevMovies","results","_toConsumableArray","total_pages","t0","message","finish","stop","apply","lastSearch","isImages","isTotal","_Fragment","Searchbar","Notify","Loader","MovieList","Number","Button","SearchMovie"],"sourceRoot":""}